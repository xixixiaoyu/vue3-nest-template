import{u as y,_ as b,t as v,a as k,F as P}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-CkWQ3NDV.js";import{d as S,a as V,u as C,l as F,g as T,w as a,e,c as f,b as s,i as l,t as o,k as n,r as B,h as N,j,o as c}from"./index-ZcRV7itf.js";import{_ as $}from"./FormInput.vue_vue_type_script_setup_true_lang-BLbuITmm.js";import{C as L}from"./circle-check-B6gM7trf.js";const A={key:0,class:"text-center space-y-6"},D={class:"flex justify-center"},E={class:"w-16 h-16 rounded-full bg-warm-success/10 flex items-center justify-center"},I={class:"space-y-2"},M={class:"text-xl font-semibold text-warm-text"},R={class:"text-warm-text-secondary leading-relaxed"},U={key:0,class:"bg-warm-error/10 border border-warm-error text-warm-error px-4 py-3 rounded-xl text-sm animate-shake"},q={class:"text-center text-sm text-warm-text-secondary"},O=S({__name:"ForgotPasswordView",setup(z){const i=V(),{t}=C(),d=F(!1),{handleSubmit:g,errors:h,defineField:x}=y({validationSchema:v(P)}),[m]=x("email"),_=g(async p=>{await i.forgotPassword(p.email)&&(d.value=!0)});return(p,r)=>{const w=B("router-link");return c(),T(b,{title:e(t)("forgotPassword.title"),description:d.value?"":e(t)("forgotPassword.description")},{default:a(()=>[d.value?(c(),f("div",A,[s("div",D,[s("div",E,[l(e(L),{class:"w-8 h-8 text-warm-success"})])]),s("div",I,[s("h3",M,o(e(t)("forgotPassword.successTitle")),1),s("p",R,o(e(t)("forgotPassword.successMessage")),1)]),l(w,{to:"/login",class:"inline-block w-full px-8 py-3 rounded-xl font-medium transition-all duration-200 bg-warm-primary text-white hover:bg-warm-primary-hover transform hover:-translate-y-0.5 hover:shadow-lg"},{default:a(()=>[n(o(e(t)("forgotPassword.backToLogin")),1)]),_:1})])):(c(),f("form",{key:1,class:"space-y-6",onSubmit:r[1]||(r[1]=(...u)=>e(_)&&e(_)(...u))},[e(i).error?(c(),f("div",U,o(e(i).error),1)):N("",!0),l($,{modelValue:e(m),"onUpdate:modelValue":r[0]||(r[0]=u=>j(m)?m.value=u:null),label:e(t)("login.email"),placeholder:e(t)("login.emailPlaceholder"),type:"email",error:e(h).email},null,8,["modelValue","label","placeholder","error"]),l(k,{loading:e(i).loading,"full-width":""},{loading:a(()=>[n(o(e(t)("forgotPassword.submitting")),1)]),default:a(()=>[n(" "+o(e(t)("forgotPassword.submit")),1)]),_:1},8,["loading"]),s("p",q,[l(w,{to:"/login",class:"text-warm-primary hover:text-warm-primary-hover font-medium transition-colors"},{default:a(()=>[n(o(e(t)("forgotPassword.backToLogin")),1)]),_:1})])],32))]),_:1},8,["title","description"])}}});export{O as default};
