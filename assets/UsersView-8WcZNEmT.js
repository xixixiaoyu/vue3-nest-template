import{J as f,l as h,K as x,d as _,u as g,c,b as e,t as a,e as s,o,L as y,q as v,h as p,M as b,N as w,g as k}from"./index-ZcRV7itf.js";const $=f("users",()=>{const t=h([]),n=h(!1),l=h(null);async function i(){n.value=!0,l.value=null;try{const r=await x.getUsers();t.value=r.data}catch(r){l.value=r instanceof Error?r.message:"获取用户列表失败",console.error("获取用户列表失败:",r)}finally{n.value=!1}}return{users:t,loading:n,error:l,fetchUsers:i}}),U={class:"bg-warm-card rounded-lg shadow-md p-6 hover:shadow-lg transition-shadow"},C={class:"flex items-center space-x-4"},S={class:"flex-shrink-0"},j=["src","alt"],B={key:1,class:"h-12 w-12 rounded-full bg-primary-100 flex items-center justify-center"},M={class:"text-primary-600 font-semibold text-lg"},N={class:"flex-1 min-w-0"},z={class:"text-lg font-semibold text-gray-900 truncate"},D={class:"text-gray-500 truncate"},L={class:"mt-4 pt-4 border-t border-gray-100"},V={class:"text-sm text-gray-400"},A=_({__name:"UserCard",props:{user:{}},setup(t){const{t:n,locale:l}=g();function i(r){const d={"zh-CN":"zh-CN","en-US":"en-US"};return new Date(r).toLocaleDateString(d[l.value]||"en-US",{year:"numeric",month:"short",day:"numeric"})}return(r,d)=>(o(),c("div",U,[e("div",C,[e("div",S,[t.user.avatar?(o(),c("img",{key:0,src:t.user.avatar,alt:t.user.name,class:"h-12 w-12 rounded-full object-cover"},null,8,j)):(o(),c("div",B,[e("span",M,a(t.user.name.charAt(0).toUpperCase()),1)]))]),e("div",N,[e("h3",z,a(t.user.name),1),e("p",D,a(t.user.email),1)])]),e("div",L,[e("p",V,a(s(n)("users.joined"))+" "+a(i(t.user.createdAt)),1)])]))}}),E={class:"max-w-4xl mx-auto"},q={class:"flex items-center justify-between mb-8"},F={class:"text-3xl font-bold text-gray-900"},H=["disabled"],I={key:0,class:"bg-red-50 border border-red-200 rounded-lg p-4 mb-6"},J={class:"text-red-600"},K={key:1,class:"text-center py-12"},R={class:"mt-4 text-gray-600"},T={key:2,class:"text-center py-12 bg-warm-card rounded-lg shadow"},G={class:"mt-4 text-gray-600"},O={key:3,class:"grid grid-cols-1 md:grid-cols-2 gap-6"},W=_({__name:"UsersView",setup(t){const n=$(),{users:l,loading:i,error:r}=y(n),{t:d}=g();return v(()=>{n.fetchUsers()}),(P,u)=>(o(),c("div",E,[e("div",q,[e("h1",F,a(s(d)("users.title")),1),e("button",{disabled:s(i),class:"px-4 py-2 bg-primary-600 text-white rounded-lg hover:bg-primary-700 disabled:opacity-50 transition-colors",onClick:u[0]||(u[0]=m=>s(n).fetchUsers())},a(s(i)?s(d)("common.loading"):s(d)("common.refresh")),9,H)]),s(r)?(o(),c("div",I,[e("p",J,a(s(r)),1)])):p("",!0),s(i)&&s(l).length===0?(o(),c("div",K,[u[1]||(u[1]=e("div",{class:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary-600 mx-auto"},null,-1)),e("p",R,a(s(d)("users.loading")),1)])):s(l).length===0?(o(),c("div",T,[u[2]||(u[2]=e("svg",{class:"mx-auto h-12 w-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5-9a2.5 2.5 0 11-5 0 2.5 2.5 0 015 0z"})],-1)),e("p",G,a(s(d)("users.empty")),1)])):(o(),c("div",O,[(o(!0),c(b,null,w(s(l),m=>(o(),k(A,{key:m.id,user:m},null,8,["user"]))),128))]))]))}});export{W as default};
