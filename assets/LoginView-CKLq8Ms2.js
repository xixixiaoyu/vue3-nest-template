import{u as y,_ as V,a as v,t as k,L as S}from"./PrimaryButton.vue_vue_type_script_setup_true_lang-CkWQ3NDV.js";import{d as B,a as C,u as L,f as N,g as $,w as s,e,b as c,c as P,h as j,i as l,t,j as w,k as n,r as A,o as h}from"./index-ZcRV7itf.js";import{_ as F}from"./FormInput.vue_vue_type_script_setup_true_lang-BLbuITmm.js";import{_ as R}from"./PasswordInput.vue_vue_type_script_setup_true_lang-B7vgH7hf.js";const T={key:0,class:"bg-warm-error/10 border border-warm-error text-warm-error px-4 py-3 rounded-xl text-sm animate-shake"},U={class:"flex justify-end"},D={class:"text-center text-sm text-warm-text-secondary"},H=B({__name:"LoginView",setup(E){const x=N(),i=C(),{t:o}=L(),{handleSubmit:b,errors:u,defineField:p}=y({validationSchema:k(S)}),[m]=p("email"),[d]=p("password"),f=b(async _=>{await i.login(_)&&x.push("/")});return(_,r)=>{const g=A("router-link");return h(),$(V,{title:e(o)("login.title")},{default:s(()=>[c("form",{class:"space-y-6",onSubmit:r[2]||(r[2]=(...a)=>e(f)&&e(f)(...a))},[e(i).error?(h(),P("div",T,t(e(i).error),1)):j("",!0),l(F,{modelValue:e(m),"onUpdate:modelValue":r[0]||(r[0]=a=>w(m)?m.value=a:null),label:e(o)("login.email"),placeholder:e(o)("login.emailPlaceholder"),type:"email",error:e(u).email},null,8,["modelValue","label","placeholder","error"]),l(R,{modelValue:e(d),"onUpdate:modelValue":r[1]||(r[1]=a=>w(d)?d.value=a:null),label:e(o)("login.password"),placeholder:e(o)("login.passwordPlaceholder"),error:e(u).password},null,8,["modelValue","label","placeholder","error"]),c("div",U,[l(g,{to:"/forgot-password",class:"text-sm text-warm-primary hover:text-warm-primary-hover transition-colors"},{default:s(()=>[n(t(e(o)("login.forgotPassword")),1)]),_:1})]),l(v,{loading:e(i).loading,"full-width":""},{loading:s(()=>[n(t(e(o)("login.submitting")),1)]),default:s(()=>[n(" "+t(e(o)("login.submit")),1)]),_:1},8,["loading"]),c("p",D,[n(t(e(o)("login.noAccount"))+" ",1),l(g,{to:"/register",class:"text-warm-primary hover:text-warm-primary-hover font-medium transition-colors"},{default:s(()=>[n(t(e(o)("login.registerLink")),1)]),_:1})])],32)]),_:1},8,["title"])}}});export{H as default};
